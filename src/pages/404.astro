---
import config from 'virtual:starlight/user-config';

/*
    the astro starlight on the deployment server has a redirection rules
    to redirect to the expected translated 404 page

    https://github.com/withastro/starlight/blob/main/docs/public/_redirects

    https://docs.astro.build/en/reference/directives-reference/#definevars
*/
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';

import Redirect404Translation from '~/components/svelte/Redirect404Translation.svelte';

const { locales } = config;

const supportedLocales = Object.keys(locales as Record<string, unknown>);
---

<StarlightPage
  frontmatter={{
    template: 'splash',
    title: '404',
    hero: { title: '' }
  }}
>
  <Redirect404Translation client:load {supportedLocales} />
</StarlightPage>
