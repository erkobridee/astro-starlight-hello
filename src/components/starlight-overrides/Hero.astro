---
import type { Props } from '@astrojs/starlight/props';

import Default from '@astrojs/starlight/components/Hero.astro';

import { redefineUrl } from '~/utils/redefineUrl';

const { data } = Astro.props.entry;

// https://starlight.astro.build/reference/frontmatter/#heroconfig
if (data.hero && data.hero?.actions && data.hero?.actions.length > 0) {
  data.hero.actions = data.hero.actions.map(({ link, ...attrs }) => ({
    ...attrs,
    link: redefineUrl(link)
  }));
}
---

<Default {...Astro.props} />
