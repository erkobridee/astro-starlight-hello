import{e as w,u as b,a as _,c as d,b as m,r as g,g as v,d as E,f as L,h as y,l as S,i as P,L as R,P as O,S as $,j as I,k as U,p as W,m as C}from"./context.D07FHmzs.js";const k="5";function A(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function N(t=!1){const n=d,e=n.l.u;if(!e)return;let o=()=>L(n.s);if(t){let t=0,e={};const s=y((()=>{let o=!1;const s=n.s;for(const t in s)s[t]!==e[t]&&(e[t]=s[t],o=!0);return o&&t++,t}));o=()=>v(s)}e.b.length&&b((()=>{h(n,o),g(e.b)})),_((()=>{const t=m((()=>e.m.map(E)));return()=>{for(const n of t)"function"==typeof n&&n()}})),e.a.length&&_((()=>{h(n,o),g(e.a)}))}function h(t,n){if(t.l.s)for(const n of t.l.s)v(n);n()}function T(t){null===d&&A(),S&&null!==d.l?Y(d).m.push(t):_((()=>{const n=m(t);if("function"==typeof n)return n}))}function Y(t){var n=t.l;return n.u??={a:[],b:[],m:[]}}typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(k),w();let u=!1;function x(t){var n=u;try{return u=!1,[t(),u]}finally{u=n}}function B(t,n,e,o){var s=!S||!!(e&O);x((()=>t[n]));P(t,n);var r,a=o,i=!0;if(s)r=()=>{var e=t[n];return void 0===e?(i&&(i=!1,a=o),a):(i=!0,e)};else{var l=U((()=>t[n]));l.f|=R,r=()=>{var t=v(l);return void 0!==t&&(a=void 0),void 0===t?a:t}}return r}const D=(t,n="/astro-starlight-hello")=>{if(t.startsWith("http"))return t;let e=n;const o=t.startsWith("/");if("/"===n)e=o?t:`/${t}`;else{const s=n.endsWith("/");e=`${n}${s||o?"":"/"}${t}`}return e};function M(t,n){W(n,!1);let e=B(n,"supportedLocales",8);T((()=>{const{lang:t="en"}=document.documentElement,n=window.location.href;let o=t.toLocaleLowerCase();if(e().length>0)for(let t of e())if(n.includes(t)){o=t;break}const s=D(`/${o}/404`);localStorage.setItem("redirect-404",JSON.stringify({prevUrl:n,supportedLocales:e()})),window.location.assign(s)})),N(),C()}export{M as default};