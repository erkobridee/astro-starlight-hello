import{e as E,c as d,u as L,a as v,r as h,b as S,g as p,d as y,f as P,h as R,l as b,i as O,L as $,j as I,S as U,k as W,P as C,p as k,m as A}from"./context.OnPjSEu2.js";const N="5";function T(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Y(t=!1){const n=d,e=n.l.u;if(!e)return;let o=()=>P(n.s);if(t){let t=0,e={};const s=R((()=>{let o=!1;const s=n.s;for(const t in s)s[t]!==e[t]&&(e[t]=s[t],o=!0);return o&&t++,t}));o=()=>p(s)}e.b.length&&L((()=>{m(n,o),h(e.b)})),v((()=>{const t=S((()=>e.m.map(y)));return()=>{for(const n of t)"function"==typeof n&&n()}})),e.a.length&&v((()=>{m(n,o),h(e.a)}))}function m(t,n){if(t.l.s)for(const n of t.l.s)p(n);n()}function x(t){null===d&&T(),b&&null!==d.l?B(d).m.push(t):v((()=>{const n=S(t);if("function"==typeof n)return n}))}function B(t){var n=t.l;return n.u??={a:[],b:[],m:[]}}typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(N),E();let u=!1;function D(t){var n=u;try{return u=!1,[t(),u]}finally{u=n}}function G(t,n,e,o){var s,r=!b||!!(e&C),a=!1;[s,a]=D((()=>t[n]));O(t,n);var i,l=o,u=!0;if(r)i=()=>{var e=t[n];return void 0===e?(u&&(u=!1,l=o),l):(u=!0,e)};else{var c=I((()=>t[n]));c.f|=$,i=()=>{var t=p(c);return void 0!==t&&(l=void 0),void 0===t?l:t}}return i}const M=(t,n="/astro-starlight-hello")=>{if(t.startsWith("http"))return t;let e=n;const o=t.startsWith("/");if("/"===n)e=o?t:`/${t}`;else{const s=n.endsWith("/");e=`${n}${s||o?"":"/"}${t}`}return e};function j(t,n){k(n,!1);let e=G(n,"supportedLocales",8);x((()=>{const{lang:t="en"}=document.documentElement,n=window.location.href;let o=t.toLocaleLowerCase();if(e().length>0)for(let t of e())if(n.includes(t)){o=t;break}const s=M(`/${o}/404`);localStorage.setItem("redirect-404",JSON.stringify({prevUrl:n,supportedLocales:e()})),window.location.assign(s)})),Y(),A()}export{j as default};